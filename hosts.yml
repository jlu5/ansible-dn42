# Ansible inventory config
dn42routers:
  children:
    na:
      hosts:
        sea:
          smokeping_id: sea01
          server_isp: PureVoltage
          ansible_host: sea01.jlu5.com
          public_host: sea.peer.highdef.network
          ansible_port: 222
          ownip: 172.22.108.35
          ownip6: fd86:bad:11b7:35::1
          region: NANorthwest
          location: Seattle, WA, US
          location_alt:
          - Vancouver, BC, CA
          wg_pubkey: "O4qWRgbJVdOM8ktyUQyT1s11WkR16JTgtnn42m9A2R8="
          link_local_ip6: "fe80::1080:35"
          link_local_ip4: "169.254.108.35"
          igp_upstreams:
          - sjc
          - ymq
          - chi
          - dal
          - tyo
          igp_wg_aftype:
            tyo: 6
          stub_ifnames_append: [eth0]
          static_routes4:
          - 172.22.108.84/31 via 172.22.108.82
          igp_neighbours_append:
          - name: igp-yvrlab
            cost: "10"
          webtrace_port: 4242
          webtrace_https: false  # NAT

        sjc:
          smokeping_id: sjcpeer
          server_isp: GreenCloudVPS
          ansible_host: sjc.peer.highdef.network
          ownip: 172.22.108.34
          ownip6: fd86:bad:11b7:34::1
          region: NAWest
          location: "San Jose, CA, US"
          location_alt:
          - Los Angeles, CA, US
          - Las Vegas, NV, US
          wg_pubkey: "Kz7mZN2ACCXSFKMiZDIVdVRmEPSnVfbEOqsxsDZ6hAw="
          link_local_ip6: "fe80::1080:34"
          link_local_ip4: "169.254.108.34"
          igp_upstreams:
          - ymq
          - ams
          igp_neighbours_append:
          - name: igp-yvrlab
            cost: "30"
          notes:
          - "Peers in Oregon: please check if the Seattle node is closer to you"

        chi:
          smokeping_id: chi02a
          server_isp: GreenCloudVPS
          ansible_host: chi02.jlu5.com
          public_host: chi.peer.highdef.network
          ownip: 172.20.229.113
          ownip6: fd86:bad:11b7:13::1
          region: NACentral
          location: "Chicago, IL, US"
          wg_pubkey: "u4WJMAoCHIOeh/+6NWMytNygp+/wrMogB+rwyVzXoEg="
          link_local_ip6: "fe80::113"
          link_local_ip4: "169.254.108.113"
          igp_upstreams:
          - sjc
          - ymq
          igp_neighbours_append:
          - name: igp-yvrlab
            cost: "55"

        yyz:
          smokeping_id: yyz01
          server_isp: HostBilby
          ansible_host: 2606:b940:1:51:416::a
          public_host: yyz.peer.highdef.network
          ownip: 172.20.229.115
          ownip6: fd86:bad:11b7:15::1
          region: NAEast
          location: "Toronto, ON, CA"
          wg_pubkey: "BkwwmnL4TpiknB+HxtdKn+zqIJcREGmbQRxrdez+zQo="
          link_local_ip6: "fe80::1080:115"
          link_local_ip4: "169.254.108.115"
          stub_ifnames_append: [eth0]
          igp_upstreams:
          - sjc
          - chi
          - sea
          - lon
          - ams
          igp_neighbours_append:
          - name: igp-yvrlab
            cost: "55"
          static_routes4:
          - 172.22.108.86/31 via 172.22.108.65
          webtrace_server_name: yyz-webtrace.highdef.network
          webtrace_port: 4242
          webtrace_https: false

        ymq:
          smokeping_id: ovh-bhs
          server_isp: OVH
          ansible_host: ymq.peer.highdef.network
          ansible_port: 222
          ownip: 172.20.229.123
          ownip6: fd86:bad:11b7:23::1
          region: NAEast
          location: "Montreal, QC, CA"
          wg_pubkey: "YrlNsVP9bbTqNuNyQ/MVFzulZKNW5vMaDMzHVFNXSSE="
          link_local_ip6: "fe80::123"
          link_local_ip4: "169.254.108.123"
          stub_ifnames_append: [eth0]
          igp_upstreams:
          - sjc
          - yyz
          - chi
          - sea
          - ams
          igp_neighbours_append:
          - name: igp-yvrlab
            cost: "75"
          location_alt:
          - New York City, NY, US
          static_routes4:
          - 172.22.108.80/31 via 172.22.108.50

        dal:
          smokeping_id: dal03
          server_isp: CometVPS
          ansible_host: dal.peer.highdef.network
          ownip: 172.22.108.33
          ownip6: fd86:bad:11b7:33::1
          region: NACentral
          location: "Dallas, TX, US"
          wg_pubkey: "gTSNP0p+Ok3gaw0mcB1yhuZ2obaoOUxW+jPI2KxGAkc="
          link_local_ip6: "fe80::1080:33"
          link_local_ip4: "169.254.108.33"
          igp_upstreams:
          - chi
          - sjc
          - yyz
          - ymq
          - sea
          - lon

        ash:
          smokeping_id: ash02
          server_isp: GreenCloudVPS
          ansible_host: ash.peer.highdef.network
          ownip: 172.20.229.112
          ownip6: fd86:bad:11b7:12::1
          region: NAEast
          location: "Ashburn, VA, US"
          wg_pubkey: "6g9a5XuPZhKvhQrxeogmfBlP1YkO/DBRA9niMg7RADY="
          link_local_ip6: "fe80::1080:112"
          link_local_ip4: "169.254.108.112"
          igp_upstreams:
          - chi
          - dal
          - yyz
          - ymq
          - sjc
          - sea

        atl:
          smokeping_id: atl02
          server_isp: SmartHost
          ansible_host: atl.peer.highdef.network
          ownip: 172.20.229.119
          ownip6: fd86:bad:11b7:9::1
          region: NAEast
          location: "Atlanta, GA, US"
          wg_pubkey: "gbhhdvAIHVuv5e+tIG/m9T9fDaGoAGVgSUHq+rKTLyY="
          link_local_ip6: "fe80::1080:119"
          link_local_ip4: "169.254.108.119"
          igp_upstreams:
          - ash
          - chi
          - dal
          - yyz
          - ymq
          - sjc
          - sea

    eu:
      hosts:
        lon:
          smokeping_id: lon02a
          server_isp: Clouvider
          public_host: lon.peer.highdef.network
          ansible_host: 2a0a:8dc0:188:4242::2
          ownip: 172.20.229.116
          ownip6: fd86:bad:11b7:116::1
          region: EU
          location: "London, UK"
          wg_pubkey: "pEQZQOD67QeWXqrHLrMoCXug/cOXJFMXH5vwQ1cW70s="
          link_local_ip6: "fe80::116"
          link_local_ip4: "169.254.108.116"
          igp_upstreams:
          - ams
          - ymq
          - chi
          - ash
          - atl
          stub_ifnames_append: [eth0]

        ams:
          smokeping_id: ams04
          server_isp: UltraVPS
          ansible_host: ams.peer.highdef.network
          ownip: 172.20.229.117
          ownip6: fd86:bad:11b7:117::1
          region: EU
          location: "Amsterdam, NL"
          location_alt:
          - Frankfurt, DE
          - Nuremberg, DE
          wg_pubkey: "oiSSSOMYxiiM0eQP9p8klwEfNn34hkNNv4S289WUciU="
          link_local_ip6: "fe80::117"
          link_local_ip4: "169.254.108.117"
          igp_upstreams:
          - sjc
          - ymq
          - ash
          - chi
          - sea

        sto:
          smokeping_id: sto01
          server_isp: HostHatch
          ansible_host: sto.peer.highdef.network
          ownip: 172.20.229.121
          ownip6: fd86:bad:11b7:121::1
          region: EU2
          location: "Stockholm, SE"
          wg_pubkey: "S82d2xkBdKzdx0i0vrS/sjScAjOHbUqZ0kDGf6drYAo="
          link_local_ip6: "fe80::1080:121"
          link_local_ip4: "169.254.108.121"
          igp_upstreams:
          - ams
          - lon
          - ash

    apac:
      hosts:
        tyo:
          smokeping_id: tyo07
          server_isp: HostUS
          ansible_host: tyo07.jlu5.com
          public_host: tyo.peer.highdef.network
          ownip: 172.20.229.124
          ownip6: fd86:bad:11b7:224::1
          region: AsiaEast
          location: "Tokyo, JP"
          wg_pubkey: "iJXjwJGGrUTQy/P3OXmZ5lM4cjrDAd9K+vonZVUZjxY="
          link_local_ip6: "fe80::124"
          link_local_ip4: "169.254.108.124"
          igp_upstreams:
          - sjc
          - sea
          - ams
          igp_wg_aftype:
            sea: 6
            hkg: 6

        hkg:
          smokeping_id: hkg02
          server_isp: GreenCloudVPS
          ansible_host: hkg.peer.highdef.network
          ownip: 172.22.108.38
          ownip6: fd86:bad:11b7:238::1
          region: AsiaEast
          location: "Hong Kong, HK"
          wg_pubkey: "eedTHubyl5caiHH50GkknQa8SQtAF8q7aqmL26w5qSs="
          link_local_ip6: "fe80::1080:38"
          link_local_ip4: "169.254.108.38"
          igp_upstreams:
          - tyo
          - syd
          - sjc
          - sea
          igp_wg_aftype:
            tyo: 6
            sgp: 6

        sgp:
          smokeping_id: sgp02
          server_isp: GreenCloudVPS
          ansible_host: sgp.peer.highdef.network
          ownip: 172.22.108.39
          ownip6: fd86:bad:11b7:239::1
          location: "Singapore, SG"
          region: AsiaSouthCentral
          wg_pubkey: "X3m9VMzZYN4Oe2QUb7DcnmVymwKSLbPUCB5ElD8igjo="
          link_local_ip6: "fe80::1080:39"
          link_local_ip4: "169.254.108.39"
          igp_upstreams:
          - tyo
          - hkg
          - sjc
          - lon
          - ams
          igp_wg_aftype:
            hkg: 6

        syd:
          smokeping_id: syd01
          server_isp: HostHatch
          ansible_host: syd.peer.highdef.network
          ownip: 172.20.229.125
          ownip6: fd86:bad:11b7:225::1
          region: Oceania
          location: "Sydney, AU"
          wg_pubkey: "Xk9wCuwp3zK4WflTeAKBIjgIlr3+qUwIFCkF2uMyyF8="
          link_local_ip6: "fe80::1080:125"
          link_local_ip4: "169.254.108.125"
          igp_upstreams:
          - sjc
          - tyo
          - sgp
          - ams

        mum:
          smokeping_id: mum01
          server_isp: HostDZire
          ansible_host: mum.peer.highdef.network
          ansible_port: 222
          ownip: 172.20.229.120
          ownip6: fd86:bad:11b7:220::1
          region: AsiaSouthCentral
          location: "Mumbai, IN"
          wg_pubkey: "PrYhKlV2860pNQOWgn8dO6kkvl0SZIZ7cZbWSq8wuV4="
          link_local_ip6: "fe80::1080:120"
          link_local_ip4: "169.254.108.120"
          v4_only: true
          igp_upstreams:
          - lon
          - ams
          - tyo
          - hkg
          - sgp
          - syd
          static_routes4:
          - 172.22.108.60/30 via 172.22.108.60

    sa:
      hosts: {}

anycast_recursors:
  hosts:
    sea:
    sjc:
    chi:
    yyz:
    dal:
    ash:
    atl:
    ymq:
    lon:
    ams:
    sto:
    tyo:
    hkg:
    sgp:
    syd:
    mum:

# This should be a subset of anycast_recursors
anycast_auth_dns:
  hosts:
    sjc:
    chi:
    ymq:
    ams:
    sgp:

# Clearnet web hosts, serving Bird-lg-go and splash site publicly
# Only one server at a time, since this is using HTTP verification to retrieve certs
web:
  hosts:
    ams:
routegraphs:
  hosts:
    ams:

# Misc hosts managed by Ansible - not open to peering
private:
  hosts:
    ymq2:
      ansible_host: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        64376166303162353232393666633936613338363436373830333263353663323131393637323035
        6462313665336462376662646365623138653234356330650a636130663939316561333362326464
        32386237643663353764626234346231663638323430343934376433303663393234383332313262
        6631383165633637320a316461353965623562633936313232623135303235306363343333613535
        3736
      smokeping_id: ymq02
      ansible_port: 222
      ownip: 172.22.108.43
      ownip6: fd86:bad:11b7:f11e::3
      region: NAEast
      location: "Montreal, QC, CA"
      wg_pubkey: "Zh1VbPf4TULZDxyzT0D/tz0Hc8u1CS35owMPYJewIW8="
      link_local_ip6: "fe80::1080:43"
      link_local_ip4: "169.254.108.43"
      igp_upstreams:
      - ymq
      - chi
      - sjc
      - ams
      ibgp_rr_upstreams: [ymq, chi]
      stub_ifnames_append: [eth0]
      igp_wg_aftype:
        ymq3: 4

    ymq3:
      ansible_host: ymq03.jlu5.com
      ownip: 172.22.108.32
      ownip6: fd86:bad:11b7:a332::1
      region: NAEast
      location: "Montreal, QC, CA"
      wg_pubkey: "r+uca6ieMJ3VHWohNwOhRx+TXhydzWx2+4ObQrCBG3M="
      link_local_ip6: "fe80::1080:32"
      link_local_ip4: "169.254.108.32"
      igp_upstreams:
      - ymq
      - ymq2
      - sea
      - ash
      ibgp_rr_upstreams: [ymq, ash]
      smokeping_base_url: "ping-ymq3.highdef.dn42"
      smokeping_id: ymq03
      igp_wg_aftype:
        ymq2: 4

  children:
    ixprouters:
      hosts: {}

smokeping:
  hosts:
    yvrlab:
      ansible_host: 172.22.108.3
      ownip: 172.22.108.3
      ownip6: fd86:bad:11b7:aaaa:38c2:3ff:fe0b:5860
      smokeping_base_url: "ping.highdef.dn42"
      location: "Vancouver, BC, CA"
      smokeping_dn42: true
      region: NANorthwest
      smokeping_target_regions:
        full: [NAEast]
        lite: [NAWest, NACentral, NASoutheast, EU, AsiaEast]
    yyz:
    ymq:
    ymq3:
    sea:
    sjc:
    chi:
    dal:
    ash:
    atl:
    lon:
    ams:
    sto:
    tyo:
    hkg:
    sgp:
    syd:
    mum:

smokeping_target:
  hosts:
    tyo04:
      smokeping_id: tyo04
      public_host: tyo04.jlu5.com
      server_isp: GreenCloudVPS
      location: Tokyo, JP
    lon03:
      smokeping_id: lon03
      public_host: lon03.jlu5.com
      server_isp: HostHatch
      location: London, UK
